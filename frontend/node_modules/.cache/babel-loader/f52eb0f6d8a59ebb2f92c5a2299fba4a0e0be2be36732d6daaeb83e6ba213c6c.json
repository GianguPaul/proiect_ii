{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Paul\\\\Desktop\\\\proiectii\\\\frontend\\\\src\\\\pages\\\\Orders.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport api from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Orders({\n  cart,\n  setCart,\n  user\n}) {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const fetchOrders = () => {\n    api.get(`/orders/user/${user.id}`).then(res => setOrders(res.data));\n  };\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n  const checkout = async () => {\n    if (cart.length === 0) return;\n    await api.post(\"/orders\", {\n      deliveryAddress: user.address,\n      items: cart\n    });\n    setCart([]);\n    fetchOrders();\n  };\n  const deleteOrder = async id => {\n    await api.delete(`/orders/${id}`);\n    fetchOrders();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Co\\u0219\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), cart.map((it, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [it.Name, \" x\", it.quantity]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: checkout,\n      children: \"Trimite comand\\u0103\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Comenzi existente\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), orders.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #ddd\",\n        margin: \"5px\",\n        padding: \"5px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"ID: \", o.OrderId, \" | Status: \", o.Status, \" | Total: \", o.TotalPrice]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Items:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: o.items.map(it => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [it.ProductId, \" x\", it.Quantity]\n        }, it.ItemId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => deleteOrder(o.OrderId),\n        children: \"\\u0218terge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, o.OrderId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n_s(Orders, \"FvMuVccH6DXI6fqfhJiN/VsjZaw=\");\n_c = Orders;\nvar _c;\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["useEffect","useState","api","jsxDEV","_jsxDEV","Orders","cart","setCart","user","_s","orders","setOrders","fetchOrders","get","id","then","res","data","checkout","length","post","deliveryAddress","address","items","deleteOrder","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","map","it","i","Name","quantity","onClick","o","style","border","margin","padding","OrderId","Status","TotalPrice","ProductId","Quantity","ItemId","_c","$RefreshReg$"],"sources":["C:/Users/Paul/Desktop/proiectii/frontend/src/pages/Orders.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport api from \"../services/api\";\n\nexport default function Orders({ cart, setCart, user }) {\n  const [orders, setOrders] = useState([]);\n\n  const fetchOrders = () => {\n    api.get(`/orders/user/${user.id}`).then(res => setOrders(res.data));\n  };\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const checkout = async () => {\n    if (cart.length === 0) return;\n    await api.post(\"/orders\", { deliveryAddress: user.address, items: cart });\n    setCart([]);\n    fetchOrders();\n  };\n\n  const deleteOrder = async (id) => {\n    await api.delete(`/orders/${id}`);\n    fetchOrders();\n  };\n\n  return (\n    <div>\n      <h3>Coș</h3>\n      {cart.map((it, i) => (\n        <div key={i}>\n          {it.Name} x{it.quantity}\n        </div>\n      ))}\n      <button onClick={checkout}>Trimite comandă</button>\n\n      <h3>Comenzi existente</h3>\n      {orders.map(o => (\n        <div\n          key={o.OrderId}\n          style={{ border: \"1px solid #ddd\", margin: \"5px\", padding: \"5px\" }}\n        >\n          <p>\n            ID: {o.OrderId} | Status: {o.Status} | Total: {o.TotalPrice}\n          </p>\n          <p>Items:</p>\n          <ul>\n            {o.items.map(it => (\n              <li key={it.ItemId}>\n                {it.ProductId} x{it.Quantity}\n              </li>\n            ))}\n          </ul>\n          <button onClick={() => deleteOrder(o.OrderId)}>Șterge</button>\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}